<p-toast/>

<p-panel header="Agent Researcher">
    <div class="grid p-fluid pt-3">
        <div class="col-12 md:col-10 field">
            <h6>How it works?</h6>
            <UL>
                <LI class="field">Provide a research topic</LI>
                <LI class="field">LLM breaks it into sub-topics</LI>
                <LI class="field">An agent builds a report for each sub-topic using Google search</LI>
                <LI class="field">The LLM takes in all of the sub-topic reports, and generates a final, comprehensive report</LI>
            </UL>
        </div>

        <div class="col-12 md:col-2">
            <p-button severity="info"
                      [outlined]="true"
                      icon="pi pi-key"
                      label="SerpAPI"
                      pTooltip="Get your SerpAPI key for web search"
                      size="large"
                      (onClick)="visit('https://serpapi.com/manage-api-key')"/>
        </div>

        <form class="col-12"
              name="researchForm"
              role="form"
              novalidate
              [formGroup]="researchForm">
            <div class="grid p-fluid">
                <div class="field col-12 md:col-6">
                    <genie-language-model-dropdown (languageModel)="modelSelected($event)"/>
                </div>

                <div class="col-12">
                    <input pInputText
                           placeholder="Enter the research topic"
                           formControlName="question"/>
                </div>

                <div class="col-12">
                    <p-progressBar [hidden]="!researching" mode="indeterminate" [style]="{height: '3px'}"/>
                </div>

                <div class="col-12">
                    <p-button #btn
                              [disabled]="researching"
                              label="Start"
                              (onClick)="startResearch()"/>
                </div>
            </div>
        </form>
    </div>
</p-panel>
